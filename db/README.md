# 辅导员学生交流信息管理系统数据库脚本说明

本目录包含系统所需的数据库初始化脚本。

## 文件说明

- `schema.sql`: 数据库结构定义文件，包含：
  - 创建数据库
  - 创建表结构
  - 创建视图
  - 创建触发器
  - 设置外键约束

- `data.sql`: 初始数据文件，包含：
  - 院系数据
  - 专业数据
  - 辅导员数据
  - 班级数据
  - 学生数据
  - 咨询数据
  - 收藏数据
  - 回复数据
  - 追问数据

## 使用方法

1. 确保已安装MySQL 8.0或更高版本
2. 使用MySQL命令行或图形化工具（如Navicat）执行脚本
3. 执行顺序：
   ```sql
   source schema.sql;
   source data.sql;
   ```

## 注意事项

1. 执行脚本前请确保MySQL服务已启动
2. 如果数据库已存在，脚本会先删除旧数据库再创建新数据库
3. 所有表使用utf8mb4字符集和utf8mb4_0900_ai_ci排序规则
4. 初始数据仅用于测试，实际使用时请根据需求修改

## 数据库结构

系统包含以下主要表：
- 院系
- 专业
- 辅导员
- 班级
- 学生
- 咨询
- 收藏
- 回复
- 追问

以及以下视图：
- StudentView：学生信息视图
- CounselorView：辅导员信息视图
- ConsultationSummary：咨询统计视图

## 触发器说明

系统包含以下触发器：
1. before_consult_delete：删除咨询时自动删除相关回复、追问和收藏
2. before_student_delete：删除学生时自动删除相关咨询、追问和收藏
3. before_counselor_delete：删除辅导员时自动处理相关班级信息 